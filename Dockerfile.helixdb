# Use the official Rust image as a base
FROM rust:1.79.0-slim

# Install necessary dependencies
RUN apt-get update && apt-get install -y git build-essential

# Clone the HelixDB repository
RUN git clone https://github.com/HelixDB/helix-db.git /helix-db

# Set the working directory
WORKDIR /helix-db

# Build the HelixDB server
RUN cargo build --release

# Expose the default HelixDB port
EXPOSE 6969

# Set the entrypoint to run the HelixDB server
ENTRYPOINT ["./target/release/helix-db"]
